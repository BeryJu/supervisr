{% extends "user/base.html" %}

{% load supervisr_utils %}
{% load i18n %}
{% load hostname %}
{% load setting %}
{% load fieldtype %}

{% block title %}
{% title "Overview" %}
{% endblock %}

{% block content %}
<h1><clr-icon shape="two-way-arrows" size="48"></clr-icon>{% trans "2-Factor Authentication" %}</h1>
<div class="row">
  <div class="col-md-6">
    <div class="card">
      <div class="card-header">
        {% trans "Status" %}
      </div>
      <div class="card-footer">
        <p>
          {% blocktrans with state=state|yesno:"Enabled,Disabled" %}
          Status: {{ state }}
          {% endblocktrans %}
          {% if state %}
          <clr-icon shape="check" size="32" class="is-success"></clr-icon>
          {% else %}
          <clr-icon shape="times" size="32" class="is-error"></clr-icon>
          {% endif %}
        </p>
        <p>
          {% if not state %}
          <a href="{% url 'supervisr_mod_tfa:tfa-enable' %}" class="btn btn-success btn-sm">{% trans "Enable 2FA" %}</a>
          {% else %}
          <a href="{% url 'supervisr_mod_tfa:tfa-disable' %}" class="btn btn-danger btn-sm">{% trans "Disable 2FA" %}</a>
          {% endif %}
        </p>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card">
      <div class="card-header">
      {% trans "Your Backup tokens:" %}
      </div>
      <div class="card-block">
        <pre>{% for token in static_tokens %}{{ token.token }}
{% endfor %}</pre>
      </div>
    </div>
  </div>
</div>
{% endblock %}
