{% extends "core/skel.html" %}

{% load supervisr_title %}
{% load supervisr_setting %}
{% load is_active %}
{% load setting %}
{% load hostname %}
{% load crispy_forms_tags %}
{% load i18n %}
{% load static %}

{% block body %}
<div class="main-container">
  {% block messages %}
  {% if messages %}
  {% for msg in messages %}
    <div class="alert alert-app-level alert-{{ msg.level_tag }}">
      <button type="button" class="close" aria-label="Close">
        <clr-icon aria-hidden="true" shape="close"></clr-icon>
      </button>
      <div class="alert-item">
        <div class="alert-text">
          {% trans msg.level_tag|capfirst %}</strong> {{ msg.message|safe }}
        </div>
      </div>
    </div>
  {% endfor %}
  {% endif %}
  {% endblock %}
  <header class="header header-6">
    <div class="branding">
      <a class="logo-and-title" href="/">
        <span class="clr-icon clarity-logo"></span>
        <span class="title">{% supervisr_setting 'branding' %}</span>
      </a>
    </div>
    <div class="divider"></div>
    <div class="header-nav clr-nav-level-1">
      <a class="nav-link {% is_active 'account' 'common' %}" href="#">
        <span class="nav-text">{% trans "Home" %}</span> <span class="sr-only">(current)</span>
      </a>
      {% if user.is_authenticated %}
      <a class="nav-link {% is_active 'dns' %}" href="#">
        <span class="nav-text">{% trans "DNS" %}</span>
      </a>
      <a class="nav-link {% is_active 'mail' %}" href="#">
        <span class="nav-text">{% trans "Mail" %}</span>
      </a>
      <a class="nav-link {% is_active 'server' %}" href="#">
        <span class="nav-text">{% trans "Server" %}</span>
      </a>
      <a class="nav-link {% is_active 'web' %}" href="#">
        <span class="nav-text">{% trans "Web" %}</span>
      </a>
      {% endif %}
    </div>
    <div class="divider"></div>
    <form class="search">
      <label for="search_input">
        <input id="search_input" placeholder="Search for keywords..." type="text">
      </label>
    </form>
    <div class="settings">
      {% if user.is_superuser %}
      <div class="dropdown">
        <button class="dropdown-toggle btn btn-link">
          {% trans "Admin" %}
          <clr-icon shape="caret down"></clr-icon>
        </button>
        <div class="dropdown-menu">
          <a clrDropdownItem href="{% url 'admin:index' %}">{% trans "Admin Interface" %}</a>
          <a clrDropdownItem href="{% url 'django-admindocs-docroot' %}">{% trans "Admin Docs" %}</a>
        </div>
      </div>
      {% endif %}
      {% if user.is_authenticated %}
      <div class="dropdown">
        <button class="dropdown-toggle btn btn-primary">
          {{ user.email }}
          <clr-icon shape="caret down"></clr-icon>
        </button>
        <div class="dropdown-menu">
          <label class="dropdown-header">Dropdown header</label>
          <a clrDropdownItem href="{% url 'account-change_password' %}">{% trans "Change Password" %}</a>
          <div class="dropdown-divider"></div>
          <a clrDropdownItem href="{% url 'account-logout' %}">{% trans "Logout" %}</a>
        </div>
      </div>
      {% endif %}
    </div>
  </header>
  <div class="content-container">
    <div class="content-area">
      <div class="container">
        {% block content %}
        {% endblock %}
      </div>
    </div>
  </div>
  <footer class="footer">
    <div class="container">
      <p class="text-muted text-center">
        {% supervisr_setting 'branding' %} |
        {% setting 'VERSION_HASH' %} |
        <img src="https://git.beryju.org/BeryJu.org/supervisr/badges/master/build.svg" /> |
        <img src="https://git.beryju.org/BeryJu.org/supervisr/badges/master/coverage.svg" /> |
        {% blocktrans %}Found an Issue? Report it <a href="https://git.beryju.org/BeryJu.org/supervisr/issues">here</a>{% endblocktrans %} |
        {% fqdn %}</p>
    </div>
  </footer>
</div>
{% endblock %}
