{% extends "_admin/base.html" %}

{% load supervisr_utils %}
{% load i18n %}

{% block title %}
{% title "Users - Administrator" %}
{% endblock %}

{% block content %}
<h1><clr-icon shape="users" size="48"></clr-icon>{% trans "Users" %}</h1>
<table class="table">
  <thead>
    <tr>
      <th>{% trans 'Email' %}</th>
      <th>{% trans 'Name' %}</th>
      <th>{% trans 'Username' %}</th>
      <th>{% trans 'Signup Date' %}</th>
      <th>{% trans 'Impersonate' %}</th>
    </tr>
  </thead>
  <tbody>
    {% for usr in instances %}
    <tr>
      <td>{{ usr.email }}</td>
      <td>{{ usr.first_name }}</td>
      <td>{{ usr.username }}</td>
      <td>{{ usr.date_joined }}</td>
      <td>
        {% if usr.pk != user.pk %}
          <a href="?__impersonate={{ usr.pk }}">{% trans "Impersonate" %}</a>
        {% else %}
          <span><clr-icon shape="times"></clr-icon></span>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% include 'blocks/pagination.html' with pages=instances %}
{% endblock %}
